let songIndex=0;let audioElement=new Audio();let masterPlay=document.getElementById('masterPlay');let myProgressBar=document.getElementById('myProgressBar');let gif=document.getElementById('gif');let masterSongName=document.getElementById('masterSongName');let songItems=Array.from(document.getElementsByClassName('songItem'));let songs=[{songName:"Bhole Shankar",filePath:"songs/1.mp3",coverPath:"covers/1.jpg"},{songName:"Cheques - Shubh",filePath:"songs/2.mp3",coverPath:"covers/2.jpg"},{songName:"Chorni - Sidhu",filePath:"songs/3.mp3",coverPath:"covers/3.jpg"},{songName:"Soulmate",filePath:"songs/4.mp3",coverPath:"covers/4.jpg"},{songName:"Suniyan Suniyan",filePath:"songs/5.mp3",coverPath:"covers/5.jpg"},{songName:"God Damn - Karan Aujla",filePath:"songs/6.mp3",coverPath:"covers/6.jpg"},{songName:"One-Love-Blue",filePath:"songs/7.mp3",coverPath:"covers/7.jpg"},{songName:"Panchayat Title",filePath:"songs/8.mp3",coverPath:"covers/8.jpg"},{songName:"Tu Hai - Darshan Raval",filePath:"songs/9.mp3",coverPath:"covers/9.jpg"},{songName:"Tauba Tauba - Bad Newz",filePath:"songs/10.mp3",coverPath:"covers/10.jpg"},];songItems.forEach((element,i)=>{element.getElementsByTagName("img")[0].src=songs[i].coverPath;element.getElementsByClassName("songName")[0].innerText=songs[i].songName});function playSong(index){songIndex=index;audioElement.src=songs[songIndex].filePath;masterSongName.innerText=songs[songIndex].songName;audioElement.currentTime=0;audioElement.play();masterPlay.classList.remove("fa-circle-play");masterPlay.classList.add("fa-circle-pause");gif.style.opacity=1;songItems.forEach((item,idx)=>{if(idx===songIndex){item.getElementsByClassName("songItemPlay")[0].classList.remove("fa-circle-play");item.getElementsByClassName("songItemPlay")[0].classList.add("fa-circle-pause");item.classList.add("active")}else{item.getElementsByClassName("songItemPlay")[0].classList.remove("fa-circle-pause");item.getElementsByClassName("songItemPlay")[0].classList.add("fa-circle-play");item.classList.remove("active")}})}
function pauseSong(){audioElement.pause();masterPlay.classList.remove("fa-circle-pause");masterPlay.classList.add("fa-circle-play");gif.style.opacity=0;songItems[songIndex].getElementsByClassName("songItemPlay")[0].classList.remove("fa-circle-pause");songItems[songIndex].getElementsByClassName("songItemPlay")[0].classList.add("fa-circle-play");songItems[songIndex].classList.remove("active")}
songItems.forEach((element,i)=>{element.addEventListener("click",()=>{if(i===songIndex&&!audioElement.paused){pauseSong()}else{playSong(i)}})});masterPlay.addEventListener("click",()=>{if(audioElement.paused){playSong(songIndex)}else{pauseSong()}});document.getElementById("next").addEventListener("click",()=>{songIndex=(songIndex+1)%songs.length;playSong(songIndex)});document.getElementById("previous").addEventListener("click",()=>{songIndex=(songIndex-1+songs.length)%songs.length;playSong(songIndex)});audioElement.addEventListener("timeupdate",()=>{let progress=parseInt((audioElement.currentTime/audioElement.duration)*100);myProgressBar.value=progress});myProgressBar.addEventListener("change",()=>{audioElement.currentTime=(myProgressBar.value*audioElement.duration)/100});document.addEventListener('DOMContentLoaded',(event)=>{const masterPlayButton=document.getElementById('masterPlay');const sparkleElement=document.getElementById('sparkle');masterPlayButton.addEventListener('click',()=>{const x=Math.random()*window.innerWidth;const y=Math.random()*window.innerHeight;sparkleElement.style.left=`${x}px`;sparkleElement.style.top=`${y}px`;sparkleElement.classList.add('active');setTimeout(()=>{sparkleElement.classList.remove('active')},500)})})
